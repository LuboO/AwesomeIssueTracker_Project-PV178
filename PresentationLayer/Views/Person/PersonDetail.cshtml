@model PresentationLayer.Models.Person.PersonDetailModel

@{
    ViewBag.Title = Model.Person.Name;
}

<h2 style="text-align:left">
    Person
    <span style="float:right">
        @Html.ActionLink("Edit person", "EditPerson", "Person", new { personId = Model.Person.Id }, new { @class = "btn btn-primary"})
        @Html.ActionLink("Delete person", "DeletePerson", "Person", new { personId = Model.Person.Id}, new { @class = "btn btn-danger"})
    </span>
</h2>

<h4>Personal information</h4>

<table class="table">
    <tr>
        <th>Id</th>
        <td>@Model.Person.Id</td>
    </tr>
    <tr>
        <th>Name</th>
        <td>@Model.Person.Name</td>
    </tr>
    <tr>
        <th>E-Mail</th>
        <td>@Model.Person.Email</td>
    </tr>
    <tr>
        <th>Date of birth</th>
        @if(Model.Person.DateOfBirth == null) {
            <td>Unknown</td>
        } else {
            <td>@String.Format("{0:dd.MM.yyyy}", Model.Person.DateOfBirth)</td>
        }
    </tr>
    <tr>
        <th>Address</th>
        @if(String.IsNullOrEmpty(Model.Person.Address)) {
            <td>Unknown</td>
        } else {
            <td>@Model.Person.Address</td>
        }
    </tr>
    <tr>
        <th>Phone</th>
        @if(String.IsNullOrEmpty(Model.Person.Phone)) {
            <td>Unknown</td>
        } else {
            <td>@Model.Person.Phone</td>
        }
    </tr>
</table>

<h4>Created issues</h4>
<a class="btn btn-link" data-toggle="collapse" data-target="#created-issues">Click to toggle</a>
<div id="created-issues" class="collapse">
    @{ Html.RenderPartial("~/Views/Issue/ListIssues.cshtml", Model.ListIssuesModel); }
</div>

<h4>Posted comments</h4>
<a class="btn btn-link" data-toggle="collapse" data-target="#comments">Click to toggle</a>
<div id="comments" class="collapse">
    @{ Html.RenderPartial("~/Views/Comment/ListComments.cshtml", Model.ListCommentsModel); }
</div>

@{
    if(Model.EmployeeDetailModel != null) {
        <h2 style="text-align:left">
            Employee
            <span style="float:right">
                @Html.ActionLink("Edit employee", "EditEmployee", "Employee", new { employeeId = Model.Person.Id }, new { @class = "btn btn-primary"})
                @Html.ActionLink("Delete employee", "DeleteEmployee", "Employee", new { employeeId = Model.Person.Id}, new { @class = "btn btn-danger"})
            </span>
        </h2>
        Html.RenderPartial("~/Views/Employee/EmployeeDetail.cshtml", Model.EmployeeDetailModel);
    }
}

@{
    if(Model.CustomerDetailModel != null) {
        <h2 style="text-align:left">
            Customer
            <span style="float:right">
                @Html.ActionLink("Edit customer", "EditCustomer", "Customer", new { customerId = Model.Person.Id }, new { @class = "btn btn-primary"})
                @Html.ActionLink("Delete customer", "DeleteCustomer", "Customer", new { customerId = Model.Person.Id}, new { @class = "btn btn-danger"})
            </span>
        </h2>
        Html.RenderPartial("~/Views/Customer/CustomerDetail.cshtml", Model.CustomerDetailModel);
    }
}
